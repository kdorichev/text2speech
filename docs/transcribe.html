---

title: Title


keywords: fastai
sidebar: home_sidebar



nb_path: "nbs/03_transcribe.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_transcribe.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>ttsdataset# VoskTranscribe</p>
<blockquote><p>Class for accented word/phase transcription according to the <code>VOSK</code> library rules.&gt; Supports <code>list</code>, <code>str</code> thanks to type dispatch implemented in <code>fastcore</code> library.</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="VoskTranscribe" class="doc_header"><code>class</code> <code>VoskTranscribe</code><a href="https://github.com/kdorichev/text2speech/tree/master/text2speech/text_transcribe.py#L9" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>VoskTranscribe</code>(<strong><code>acc_before</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Transcribe an accented word using rules of <code>VOSK</code> library.</p>
<p>For example:</p>
<p>абстракциони+стов
абстра+кцию
абстра+кция</p>
<p>абстракционистов a0 b s t r a0 k c i0 o0 nj i1 s t o0 v
абстракцию a0 b s t r a1 k c i0 j u0
абстракция a0 b s t r a1 k c i0 j a0</p>
<p>The code is adapted from <code>vosk-model-ru-0.10/extra/scripts/dictionary.py</code> <a href="https://alphacephei.com/vosk/">https://alphacephei.com/vosk/</a></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Testing">Testing<a class="anchor-link" href="#Testing"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="VOSK-like-accents">VOSK-like accents<a class="anchor-link" href="#VOSK-like-accents"> </a></h4>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vt</span> <span class="o">=</span> <span class="n">VoskTranscribe</span><span class="p">(</span><span class="n">acc_before</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Calling-with-a-list-of-words">Calling with a list of words<a class="anchor-link" href="#Calling-with-a-list-of-words"> </a></h5>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vt</span><span class="p">([[</span><span class="s1">&#39;куп+юра&#39;</span><span class="p">,</span> <span class="s1">&#39;мо+я&#39;</span><span class="p">]])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;k u0 pj u1 r a0&#39;, &#39;m o0 j a1&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Calling-with-a-string">Calling with a string<a class="anchor-link" href="#Calling-with-a-string"> </a></h5>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vt</span><span class="p">(</span><span class="s1">&#39;куп+юра&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;k u0 pj u1 r a0&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">vt</span><span class="p">(</span><span class="s1">&#39;куп+юра&#39;</span><span class="p">),</span> <span class="s1">&#39;k u0 pj u1 r a0&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">vt</span><span class="p">(</span><span class="s1">&#39;к+онь&#39;</span><span class="p">),</span> <span class="s1">&#39;k o1 nj&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Russian_G2P-like-accents">Russian_G2P-like accents<a class="anchor-link" href="#Russian_G2P-like-accents"> </a></h4>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">vt</span> <span class="o">=</span> <span class="n">VoskTranscribe</span><span class="p">(</span><span class="n">acc_before</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">test_eq</span><span class="p">(</span><span class="n">vt</span><span class="p">(</span><span class="s1">&#39;купю+ра&#39;</span><span class="p">),</span> <span class="s1">&#39;k u0 pj u1 r a0&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">vt</span><span class="p">(</span><span class="s1">&#39;ко+нь&#39;</span><span class="p">),</span> <span class="s1">&#39;k o1 nj&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Ignore-special-tag">Ignore special tag<a class="anchor-link" href="#Ignore-special-tag"> </a></h5>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">vt</span><span class="p">(</span><span class="s1">&#39;&lt;sil&gt;&#39;</span><span class="p">),</span> <span class="s1">&#39;&lt;sil&gt;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="TODO">TODO<a class="anchor-link" href="#TODO"> </a></h2><ul>
<li>raise a <code>Warning</code> in case no stress.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">vt</span><span class="p">(</span><span class="s1">&#39;конь&#39;</span><span class="p">),</span> <span class="s1">&#39;k o0 nj&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

